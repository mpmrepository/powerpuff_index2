(this.webpackJsonppowerpuff_index=this.webpackJsonppowerpuff_index||[]).push([[0],{26:function(e,n,t){e.exports=t(40)},31:function(e,n,t){},36:function(e,n,t){},37:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),s=t.n(a),o=t(12),c=t.n(o),i=(t(31),t(10)),r=(t(36),t(37),function(e){var n=e.name,t=(e.id,e.summary);e.episodeList;return e.showsPending?s.a.createElement("h1",null,"loading"):s.a.createElement("div",{className:"pb16"},s.a.createElement("div",{className:"show_title pb8"},s.a.createElement("h2",null,n)),s.a.createElement("div",{className:"show_description show_section "},s.a.createElement("p",null,t)))}),l=function(){return function(e){e({type:"REQUEST_SHOW_PENDING"}),fetch("http://api.tvmaze.com/shows/6771").then((function(e){return e.json()})).then((function(n){return e({type:"REQUEST_SHOW_SUCCESS",payload:n})})).catch((function(n){return e({type:"REQUEST_SHOW_FAILED",payload:n})}))}},d=function(){return function(e){e({type:"REQUEST_EPISODELIST_PENDING"}),fetch("http://api.tvmaze.com/shows/6771/episodes").then((function(e){return e.json()})).then((function(n){return e({type:"REQUEST_EPISODELIST_SUCCESS",payload:n})})).catch((function(n){return e({type:"REQUEST_EPISODELIST_FAILED",payload:n})}))}},u=Object(i.b)((function(e){return{showInfo:e.fetchShowReducer.showInfo,showsPending:e.fetchShowReducer.showsPending,episodeList:e.fetchEpisodeReducer.episodeList,episodesPending:e.fetchEpisodeReducer.episodesPending}}),(function(e){return{onFetchShow:function(){e(l())},onFetchEpisodes:function(){e(d())}}}))(r),E=t(7),m=t(2),p=function(e){var n=e.episodes,t=Object(m.f)().epId,a=n.find((function(e){return e.id===Number(t)}));return s.a.createElement("div",{className:"pb16"},a.image?s.a.createElement("div",{className:"show_description show_section pb8"},s.a.createElement("img",{src:a.image.original})):null,s.a.createElement("div",{className:"show_subtitle pb2"},s.a.createElement("h4",null,"Episode details")),s.a.createElement("div",{className:"show_title pb6 "},s.a.createElement("h1",null,a.name)),s.a.createElement("div",{class:"pb6"},a.season?s.a.createElement("p",null,"Season: ",a.season):null,a.number?s.a.createElement("p",null,"Episode: ",a.number):null,a.airdate?s.a.createElement("p",null,"Originally aired: ",a.airdate):null),a.summary?s.a.createElement("div",{className:"show_description  "},s.a.createElement("p",null,a.summary.replace(/(<([^>]+)>)/gi,""))):null)},h=function(e){var n=e.episodes,t=e.episodesPending;return console.log(n,n.length),t?s.a.createElement("h1",null,"loading ep component"):s.a.createElement("div",{className:"home_section"},s.a.createElement(p,{episodes:n}))},f=t(21),w=t(22),g=t(25),S=t(24),_=function(e){Object(g.a)(t,e);var n=Object(S.a)(t);function t(e){var a;return Object(f.a)(this,t),(a=n.call(this,e)).state={hasError:!1},a}return Object(w.a)(t,[{key:"componentDidCatch",value:function(e,n){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?s.a.createElement("h2",null,"Oops, made a mistake"):this.props.children}}]),t}(a.Component),v=(t(39),function(e){var n=e.name,t=e.id;Object(m.g)();return s.a.createElement(E.b,{to:"".concat(t)},s.a.createElement("div",{key:t,className:"episode_card"},s.a.createElement("div",{className:""},s.a.createElement("h4",null,n," "))))}),O=function(e){var n=e.episodes;return s.a.createElement("div",{className:"wrapper"},n.map((function(e,t){return s.a.createElement(v,{key:n[t].id,id:n[t].id,name:n[t].name})})))},b=function(e){var n=e.onFetchShow,t=e.onFetchEpisodes;Object(a.useEffect)((function(){n()}),[n]),Object(a.useEffect)((function(){t()}),[t]);var o=e.showInfo,c=o.id,i=o.image,r=o.name,l=e.showInfo.summary?e.showInfo.summary.replace(/(<([^>]+)>)/gi,""):"content loading",d=i?i.original:"https://via.placeholder.com/800x1000/ddd/000.png/?text=Image+unavailable!",p=e.episodesPending,f=e.episodeList;return e.showsPending?s.a.createElement("div",{className:"App"},s.a.createElement("p",null,"loading")):s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"cover_image",style:{backgroundImage:"url(".concat(d,")")}}),s.a.createElement("div",{className:"app_wrapper"},s.a.createElement("div",{className:"app_content"},s.a.createElement("nav",{className:"pb16"},s.a.createElement(E.c,{to:"/",exact:!0},"Home")),s.a.createElement(m.c,null,s.a.createElement(m.a,{path:"/:epId"},s.a.createElement(_,null,s.a.createElement(h,{episodesPending:p,episodes:f}))),s.a.createElement(m.a,{path:"/",exact:!0},s.a.createElement(u,{summary:l,id:c,name:r,showsPending:e.showsPending}))),s.a.createElement("div",{className:"show_subtitle pb4"},s.a.createElement("h3",null,"Episode list:")),s.a.createElement("div",{className:"show_ep_list"},s.a.createElement(O,{episodes:e.episodeList})))))},I=Object(i.b)((function(e){return{showInfo:e.fetchShowReducer.showInfo,showsPending:e.fetchShowReducer.showsPending,episodeList:e.fetchEpisodeReducer.episodeList,episodesPending:e.fetchEpisodeReducer.episodesPending,episodesError:e.fetchEpisodeReducer.error}}),(function(e){return{onFetchShow:function(){e(l())},onFetchEpisodes:function(){e(d())}}}))(b);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=t(8),N={showsPending:!1,showInfo:{}},y={episodesPending:!0,error:"",episodeList:[]},R=Object(P.c)({fetchShowReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"REQUEST_SHOW_PENDING":return Object.assign({},e,{showsPending:!0});case"REQUEST_SHOW_SUCCESS":return Object.assign({},e,{showInfo:n.payload,showsPending:!1});case"REQUEST_SHOW_FAILED":return Object.assign({},e,{showsPending:!1});default:return e}},fetchEpisodeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"REQUEST_EPISODELIST_PENDING":return Object.assign({},e,{episodesPending:!0});case"REQUEST_EPISODELIST_SUCCESS":return Object.assign({},e,{episodeList:n.payload,episodesPending:!1});case"REQUEST_EPISODELIST_FAILED":return Object.assign({},e,{error:n.payload,episodesPending:!1});default:return e}}}),j=t(23),T=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):P.d)(Object(P.a)(j.a)),L=Object(P.e)(R,T);c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E.a,{basename:"/"},s.a.createElement(i.a,{store:L},s.a.createElement(I,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.d584b6a4.chunk.js.map